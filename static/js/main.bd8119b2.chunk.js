(this.webpackJsonpstock_viewer=this.webpackJsonpstock_viewer||[]).push([[0],{202:function(e,t,a){e.exports=a(395)},207:function(e,t,a){},209:function(e,t,a){},395:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(38),c=a.n(o),r=(a(207),a(22)),i=a(23),s=a(25),u=a(24),m=a(26),h=a(44),d=a(27),p=(a(208),a(209),a(65)),v=a(8),b=function(e){var t=e.active,a=e.payload;e.label;return t?l.a.createElement("div",{className:"custom-tooltip"},l.a.createElement("p",null,"date  : ".concat(a[0].payload.time)),l.a.createElement("p",null,"close : $".concat(a[0].payload.close)),l.a.createElement("p",null,"high  : $".concat(a[0].payload.high)),l.a.createElement("p",null,"low   : $".concat(a[0].payload.low)),l.a.createElement("p",null,"open  : $".concat(a[0].payload.open)),l.a.createElement("p",null,"volume: ".concat(a[0].payload.volume))):null},E=function(e){var t=e.data;return t?l.a.createElement("div",{className:"stock-chart",style:{position:"absolute",left:"0",width:"70%",height:"100%"}},l.a.createElement(v.e,{width:"100%",height:"100%"},l.a.createElement(v.d,{width:"100%",height:"100%",data:t,margin:{top:20,left:20,right:20,bottom:20}},l.a.createElement(v.a,{strokeDashArray:"3 3"}),l.a.createElement(v.g,{dataKey:"time",tickCount:5}),l.a.createElement(v.h,{type:"number",domain:["auto","auto"]}),l.a.createElement(v.f,{content:l.a.createElement(b,null)}),l.a.createElement(v.b,null),l.a.createElement(v.c,{type:"monotone",dataKey:"close",stroke:"#8884d8",dot:!1}),l.a.createElement(v.c,{type:"monotone",dataKey:"high",stroke:"#34e5eb",dot:!1}),l.a.createElement(v.c,{type:"monotone",dataKey:"low",stroke:"#eb34a8",dot:!1}),l.a.createElement(v.c,{type:"monotone",dataKey:"open",stroke:"#59eb34",dot:!1})))):l.a.createElement("div",{className:"stock-chart",style:{position:"relative",left:"0",width:"70%",height:"100%"}},l.a.createElement(v.e,{width:700,height:"80%"},l.a.createElement(v.d,{width:"100%",height:"100%",data:t},l.a.createElement(v.a,{strokeDashArray:"3 3"}),l.a.createElement(v.g,{dataKey:"time",tickCount:5}),l.a.createElement(v.h,{type:"number",domain:["auto","auto"]}),l.a.createElement(v.f,null),l.a.createElement(v.b,null))))},f=a(166);function k(){for(var e,t,a=function(e){var t=null,a=new XMLHttpRequest;return a.open("GET",e,!1),a.send(),200===a.status&&(t=a.responseText),t}("https://raw.githubusercontent.com/benjaminykim/stock_view/master/public/stock_listed.txt").split("\n"),n=[],l=[],o=1;o<a.length;o++)e=(n=a[o].split("|"))[0],(t=n[1])&&-1!==t.indexOf("-")&&(t=t.substr(0,t.indexOf("-")-1)),l.push({key:e,value:t});return l}var g=function(e){var t=k();return l.a.createElement("div",{className:"search-bar",style:{position:"relative",left:"70%",width:"30%"}},l.a.createElement(f.a,{placeholder:"",value:"AAPL",data:t,onSelect:e.f}))};function y(e){var t=new Date(1e3*e),a=t.getFullYear()%100;return t.getMonth()+1+"/"+t.getDate()+"/"+a}function w(e){for(var t=[],a=0;a<e.c.length;a++)t.push({close:e.c[a],high:e.h[a],low:e.l[a],open:e.o[a],time:y(e.t[a]),volume:e.v[a]});return t}var j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={data:null,stockName:null,resolution:null,isDataLoaded:!1},a.base_url="https://finnhub.io/api/v1",a.candle_endpoint="/stock/candle?",a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleClick",value:function(e){console.log(e),this.getStockCandle(e.key)}},{key:"render",value:function(){return l.a.createElement("div",{style:{paddingBottom:"50%",position:"relative",height:0}},l.a.createElement(E,{data:this.state.data}),l.a.createElement(g,{f:this.handleClick}))}},{key:"storeCandleData",value:function(e,t,a){this.setState({data:w(e),stockName:t,resolution:a,isDataLoaded:!0})}},{key:"getCandleUrl",value:function(e,t,a){return this.base_url+this.candle_endpoint+"symbol="+e+"&resolution="+a+"&count="+t+"&token=boamq6vrh5rbii6a3j30"}},{key:"getStockCandle",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"AAPL",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"D",l="https://finnhub-realtime-stock-price.p.rapidapi.com/stock/candle?count="+a+"&symbol="+t+"&resolution="+n;console.log(l),fetch(l,{method:"GET",headers:{"x-rapidapi-host":"finnhub-realtime-stock-price.p.rapidapi.com","x-rapidapi-key":"bfc0641820msh0bbab8db87079ebp145b2djsnc142f2e17a4d"}}).then((function(e){return e.json()})).then((function(a){return e.storeCandleData(a,t,n)})).catch((function(e){console.log(e)}))}},{key:"getStockCandle2",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"AAPL",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"D",l=this.getCandleUrl(t,a,n);console.log(l),fetch(l,{method:"GET"}).then((function(e){return e.json()})).then((function(a){return e.storeCandleData(a,t,n)})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.getStockCandle("TWTR",200,"D")}}]),t}(l.a.Component),O=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null)}}]),t}(l.a.Component),C=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null)}}]),t}(l.a.Component),N=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"stock-information"},l.a.createElement(h.a,null,l.a.createElement("div",{className:"container"},l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement(h.b,{to:"/",className:"navbar-brand"},"Stock View"),l.a.createElement("div",{className:"collpase navbar-collapse"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"navbar-item"},l.a.createElement(h.b,{to:"/",className:"nav-link"},"Home")),l.a.createElement("li",{className:"navbar-item"},l.a.createElement(h.b,{to:"/watchlist",className:"nav-link"},"Watchlist")),l.a.createElement("li",{className:"navbar-item"},l.a.createElement(h.b,{to:"/markets",className:"nav-link"},"Markets"))))),l.a.createElement("br",null),l.a.createElement(d.a,{path:"/",exact:!0,component:j}),l.a.createElement(d.a,{path:"/watchlist",component:O}),l.a.createElement(d.a,{path:"/markets",component:C}))))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[202,1,2]]]);
//# sourceMappingURL=main.bd8119b2.chunk.js.map