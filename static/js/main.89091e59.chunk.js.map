{"version":3,"sources":["components/Chart.js","components/StockCard.js","components/StockView.js","components/WatchlistView.js","components/MarketView.js","App.js","serviceWorker.js","index.js"],"names":["StockToolTip","active","payload","label","className","time","close","high","low","open","volume","Chart","props","console","log","data","width","height","margin","top","left","right","bottom","strokeDashArray","dataKey","tickCount","type","domain","content","stroke","dot","StockCard","stockName","StockView","Row","Col","sm","style","this","position","name","React","Component","WatchlistView","MarketView","getCandleUrl","count","resolution","base_url","timeConverter","UNIX_timestamp","a","Date","year","getFullYear","getMonth","getDate","generateData","finData","i","c","length","push","h","l","o","t","v","App","handleChange","e","target","value","search_field","handleSubmit","state","stock_name","getStockCandle","isDataLoaded","s","setState","url","fetch","then","response","json","storeCandleData","catch","err","Container","fluid","Navbar","bg","expand","sticky","Brand","href","Toggle","aria-controls","Collapse","id","Nav","Link","Form","inline","onSubmit","FormControl","placeholder","onChange","Button","variant","onClick","exact","path","render","Fragment","component","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.89091e59.chunk.js","sourcesContent":["import React from 'react'\nimport { LineChart, Line, ResponsiveContainer, CartesianGrid, Tooltip, XAxis, YAxis, Legend} from 'recharts'\n\nconst StockToolTip = ({ active, payload, label }) => {\n  if (active && payload) {\n    return (\n      <div className=\"custom-tooltip\">\n        <p>{`date  : ${payload[0].payload.time}`}</p>\n        <p>{`close : $${payload[0].payload.close}`}</p>\n        <p>{`high  : $${payload[0].payload.high}`}</p>\n        <p>{`low   : $${payload[0].payload.low}`}</p>\n        <p>{`open  : $${payload[0].payload.open}`}</p>\n        <p>{`volume: ${payload[0].payload.volume}`}</p>\n      </div>\n    );\n  }\n  return null;\n};\n\nfunction renderLines(data, o, h, c, l) {\n  return (\n    <Line type=\"monotone\" dataKey=\"close\" stroke=\"#8884d8\" dot={false}/>\n  )\n}\n\nfunction Chart(props) {\n  console.log(\"chart: \", props.data);\n  return (\n    <ResponsiveContainer width=\"100%\" height=\"100%\">\n      <LineChart\n        width=\"100%\"\n        height=\"100%\"\n        data={props.data}\n        margin={{ top: 20, left: 20, right:20, bottom: 20}} >\n        <CartesianGrid strokeDashArray=\"3 3\" />\n        <XAxis\n          dataKey=\"time\"\n          tickCount={5} >\n    </XAxis>\n        <YAxis type=\"number\" domain={['auto', 'auto']} />\n        <Tooltip content={<StockToolTip />} />\n        <Legend />\n        { renderLines(props.data, false, false, true, false) }\n      </LineChart>\n    </ResponsiveContainer>\n  )\n};\n\nexport default Chart\n","import React from 'react';\n\nconst StockCard = (props) => {\n  return (\n      <div>\n        <p>Stock: {props.data.stockName}</p>\n      </div>\n  );\n};\n\nexport default StockCard;\n","import React from 'react';\nimport Chart from './Chart'\nimport StockCard from './StockCard'\nimport { Row, Col} from 'react-bootstrap'\n\n\nclass StockView extends React.Component {\n  render() {\n    console.log(\"StockView Render\");\n    return (\n      <Row>\n        <Col sm={8}>\n          <div style={{height:\"800px\", width:\"100%\"}}>\n          <Chart data={this.props.data}/>\n          </div>\n        </Col>\n        <Col sm={4}>\n          <div style={{position:\"absolute\", top:\"19px\", width:\"80%\"}}>\n            <StockCard data={this.props.name}/>\n          </div>\n        </Col>\n      </Row>\n    )\n  }\n}\n\nexport default StockView;\n","import React from 'react';\n\nexport default class WatchlistView extends React.Component {\n    render() {\n        return (\n            <div>\n            </div>\n        )\n    }\n}\n","import React from 'react';\n\nexport default class MarketView extends React.Component {\n    render() {\n        return (\n            <div>\n            </div>\n        )\n    }\n}\n","import React from 'react';\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Container from 'react-bootstrap/Container';\nimport { Navbar, Nav, Form, FormControl, Button } from 'react-bootstrap';\nimport './App.css';\nimport StockView from './components/StockView'\nimport WatchlistView from './components/WatchlistView'\nimport MarketView from './components/MarketView'\n\nconst base_url = 'https://finnhub.io/api/v1';\nconst candle_endpoint = '/stock/candle?';\n\nfunction getCandleUrl(name, count, resolution)\n{\n  var url = base_url + candle_endpoint + \"symbol=\" + name + \"&resolution=\" + resolution +  \"&count=\" + count + \"&token=boamq6vrh5rbii6a3j30\"\n  return (url);\n}\n\nfunction timeConverter(UNIX_timestamp){\n  var a = new Date(UNIX_timestamp * 1000);\n  var year = a.getFullYear() % 100;\n  var month = a.getMonth() + 1;\n  var date = a.getDate();\n  var time = month + '/' + date + '/' + year;\n  return time;\n}\n\nfunction generateData(finData) {\n  var data = [];\n  for (var i=0; i < finData.c.length; i++)\n  {\n    data.push({\n      'close': finData.c[i],\n      'high': finData.h[i],\n      'low': finData.l[i],\n      'open': finData.o[i],\n      'time': timeConverter(finData.t[i]),\n      'volume': finData.v[i]\n    });\n  }\n  return (data);\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search_field: '',\n      stock_name: \"TWTR\",\n      data: [],\n      isDataLoaded:false,\n      resolution:''\n    };\n\n    var search_field = '';\n  }\n\n  handleChange = (e) => {\n    console.log(\"App.handleChange: \", e.target.value);\n    this.search_field = e.target.value;\n  }\n\n  handleSubmit = (e) => {\n    if (this.search_field !== this.state.stock_name) {\n      this.getStockCandle(this.search_field, 200, \"D\");\n    }\n  }\n\n  storeCandleData(data, name, resolution)\n  {\n    if (data.s === \"ok\") {\n      this.setState({\n        data:generateData(data),\n        stock_name:name,\n        resolution:resolution,\n        isDataLoaded:true,\n      });\n    } else {\n      console.log(\"invalid user input\");\n    }\n  }\n\n  getStockCandle(name=\"TWTR\", count=200, resolution=\"D\")\n  {\n    var url = getCandleUrl(name, count, resolution);\n    console.log(\"fetching: \", url);\n    fetch(url, {\n      \"method\": \"GET\",\n    })\n    .then(response => response.json())\n    .then(data => this.storeCandleData(data, name, resolution))\n    .catch(err => {\n      console.log(err);\n    });\n  }\n\n  componentDidMount(){\n    this.getStockCandle(this.state.stock_name, 200, \"D\");\n  }\n\n  render() {\n    return (\n        <Router>\n        <Container fluid=\"true\">\n          <Navbar bg=\"light\" expand=\"lg\" sticky=\"top\">\n            <Navbar.Brand href=\"/stock_view\">stock_view</Navbar.Brand>\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n            <Navbar.Collapse id=\"basic-navbar-nav\">\n              <Nav className=\"mr-auto\">\n                <Nav.Link href=\"/stock_view\">Home</Nav.Link>\n                <Nav.Link href=\"/watchlist\">Watchlist</Nav.Link>\n                <Nav.Link href=\"/markets\">Markets</Nav.Link>\n              </Nav>\n              <Form inline onSubmit={this.handleSubmit}>\n                <FormControl type=\"text\" placeholder=\"TWTR\" className=\"mr-sm-2\" onChange={this.handleChange} />\n                <Button variant=\"outline-success\" onClick={this.handleSubmit} >Search</Button>\n              </Form>\n            </Navbar.Collapse>\n          </Navbar>\n          <br/>\n          <Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/stock_view'\n\t\t\t\t\t\t\trender={(props) => (\n\t\t\t\t\t\t\t\t<React.Fragment>\n                  <StockView name={this.state.stock_name} data={this.state.data} />\n\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n          <Route exact path=\"/stock_view/watchlist\" component={WatchlistView} />\n          <Route exact path=\"/stock_view/markets\" component={MarketView} />\n        </Container>\n      </Router>\n    )\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}