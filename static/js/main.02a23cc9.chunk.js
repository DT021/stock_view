(this.webpackJsonpstock_viewer=this.webpackJsonpstock_viewer||[]).push([[0],{223:function(e,t,a){e.exports=a(417)},228:function(e,t,a){},230:function(e,t,a){},417:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(26),c=a.n(l),r=(a(228),a(27)),i=a(28),u=a(31),s=a(29),m=a(32),h=a(184),d=a(33),p=(a(229),a(187)),E=a(421),f=a(422),v=a(423),k=a(190),b=a(420),y=(a(230),a(70)),g=a(10),w=function(e){var t=e.active,a=e.payload;e.label;return t?o.a.createElement("div",{className:"custom-tooltip"},o.a.createElement("p",null,"date  : ".concat(a[0].payload.time)),o.a.createElement("p",null,"close : $".concat(a[0].payload.close)),o.a.createElement("p",null,"high  : $".concat(a[0].payload.high)),o.a.createElement("p",null,"low   : $".concat(a[0].payload.low)),o.a.createElement("p",null,"open  : $".concat(a[0].payload.open)),o.a.createElement("p",null,"volume: ".concat(a[0].payload.volume))):null},j=function(e){var t=e.data;return t?o.a.createElement(g.e,{width:"100%",height:"100%"},o.a.createElement(g.d,{width:"100%",height:"100%",data:t,margin:{top:20,left:20,right:20,bottom:20}},o.a.createElement(g.a,{strokeDashArray:"3 3"}),o.a.createElement(g.g,{dataKey:"time",tickCount:5}),o.a.createElement(g.h,{type:"number",domain:["auto","auto"]}),o.a.createElement(g.f,{content:o.a.createElement(w,null)}),o.a.createElement(g.b,null),o.a.createElement(g.c,{type:"monotone",dataKey:"close",stroke:"#8884d8",dot:!1}),o.a.createElement(g.c,{type:"monotone",dataKey:"high",stroke:"#34e5eb",dot:!1}),o.a.createElement(g.c,{type:"monotone",dataKey:"low",stroke:"#eb34a8",dot:!1}),o.a.createElement(g.c,{type:"monotone",dataKey:"open",stroke:"#59eb34",dot:!1}))):o.a.createElement(g.e,{width:700,height:"80%"},o.a.createElement(g.d,{width:"100%",height:"100%",data:t},o.a.createElement(g.a,{strokeDashArray:"3 3"}),o.a.createElement(g.g,{dataKey:"time",tickCount:5}),o.a.createElement(g.h,{type:"number",domain:["auto","auto"]}),o.a.createElement(g.f,null),o.a.createElement(g.b,null)))},O=a(179);function C(){for(var e,t,a=function(e){var t=null,a=new XMLHttpRequest;return a.open("GET",e,!1),a.send(),200===a.status&&(t=a.responseText),t}("https://raw.githubusercontent.com/benjaminykim/stock_view/master/public/stock_listed.txt").split("\n"),n=[],o=[],l=1;l<a.length;l++)e=(n=a[l].split("|"))[0],(t=n[1])&&-1!==t.indexOf("-")&&(t=t.substr(0,t.indexOf("-")-1)),o.push({key:e,value:t});return o}var D=function(e){var t=C();return o.a.createElement(O.a,{placeholder:"",value:"TWTR",autoFocus:!0,dropDownBorderColor:"#ffffff",data:t,onSelect:e.f})},x=function(e){return console.log(e),console.log(e.stockName),console.log(e),o.a.createElement("div",null,o.a.createElement("p",null,"Stock: ",e.data.stockName))},_=a(419),L=a(183);function N(e){var t=new Date(1e3*e),a=t.getFullYear()%100;return t.getMonth()+1+"/"+t.getDate()+"/"+a}function T(e){for(var t=[],a=0;a<e.c.length;a++)t.push({close:e.c[a],high:e.h[a],low:e.l[a],open:e.o[a],time:N(e.t[a]),volume:e.v[a]});return t}var S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={data:null,stockName:null,resolution:null,isDataLoaded:!1},a.base_url="https://finnhub.io/api/v1",a.candle_endpoint="/stock/candle?",a.handleClick=a.handleClick.bind(Object(y.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleClick",value:function(e){console.log(e),this.getStockCandle(e.key)}},{key:"render",value:function(){return o.a.createElement(_.a,null,o.a.createElement(L.a,{sm:8},o.a.createElement("div",{style:{height:"800px",width:"100%"}},o.a.createElement(j,{data:this.state.data}))),o.a.createElement(L.a,{sm:4},o.a.createElement("div",{style:{position:"absolute",top:"19px",width:"80%"}},o.a.createElement(D,{f:this.handleClick}),o.a.createElement(x,{data:this.state}))))}},{key:"storeCandleData",value:function(e,t,a){this.setState({data:T(e),stockName:t,resolution:a,isDataLoaded:!0})}},{key:"getCandleUrl",value:function(e,t,a){return this.base_url+this.candle_endpoint+"symbol="+e+"&resolution="+a+"&count="+t+"&token=boamq6vrh5rbii6a3j30"}},{key:"getStockCandle",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"AAPL",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"D",o=this.getCandleUrl(t,a,n);console.log(o),fetch(o,{method:"GET"}).then((function(e){return e.json()})).then((function(a){return e.storeCandleData(a,t,n)})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.getStockCandle("TWTR",200,"D")}}]),t}(o.a.Component),A=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null)}}]),t}(o.a.Component),K=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null)}}]),t}(o.a.Component),W=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"stock-information"},o.a.createElement(h.a,null,o.a.createElement(p.a,{fluid:"true"},o.a.createElement(E.a,{bg:"light",expand:"lg",sticky:"top"},o.a.createElement(E.a.Brand,{href:"/"},"stock_view"),o.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.a.createElement(E.a.Collapse,{id:"basic-navbar-nav"},o.a.createElement(f.a,{className:"mr-auto"},o.a.createElement(f.a.Link,{href:"/"},"Home"),o.a.createElement(f.a.Link,{href:"/watchlist"},"Watchlist"),o.a.createElement(f.a.Link,{href:"/markets"},"Markets")),o.a.createElement(v.a,{inline:!0},o.a.createElement(k.a,{type:"text",placeholder:"AAPL",className:"mr-sm-2"}),o.a.createElement(b.a,{variant:"outline-success"},"Search")))),o.a.createElement("br",null),o.a.createElement(d.a,{path:"/",exact:!0,component:S}),o.a.createElement(d.a,{path:"/watchlist",component:A}),o.a.createElement(d.a,{path:"/markets",component:K}))))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[223,1,2]]]);
//# sourceMappingURL=main.02a23cc9.chunk.js.map