(this.webpackJsonpstock_viewer=this.webpackJsonpstock_viewer||[]).push([[0],{214:function(e,t,a){e.exports=a(409)},219:function(e,t,a){},221:function(e,t,a){},409:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(26),l=a.n(c),r=(a(219),a(27)),i=a(28),s=a(31),u=a(29),m=a(32),h=a(177),d=a(33),p=(a(220),a(180)),v=a(413),E=a(414),f=a(415),k=a(183),g=a(412),b=(a(221),a(23)),y=function(e){var t=e.active,a=e.payload;e.label;return t&&a?o.a.createElement("div",{className:"custom-tooltip"},o.a.createElement("p",null,"date  : ".concat(a[0].payload.time)),o.a.createElement("p",null,"close : $".concat(a[0].payload.close)),o.a.createElement("p",null,"high  : $".concat(a[0].payload.high)),o.a.createElement("p",null,"low   : $".concat(a[0].payload.low)),o.a.createElement("p",null,"open  : $".concat(a[0].payload.open)),o.a.createElement("p",null,"volume: ".concat(a[0].payload.volume))):null};var w=function(e){return console.log("chart: ",e.data),o.a.createElement(b.e,{width:"100%",height:"100%"},o.a.createElement(b.d,{width:"100%",height:"100%",data:e.data,margin:{top:20,left:20,right:20,bottom:20}},o.a.createElement(b.a,{strokeDashArray:"3 3"}),o.a.createElement(b.g,{dataKey:"time",tickCount:5}),o.a.createElement(b.h,{type:"number",domain:["auto","auto"]}),o.a.createElement(b.f,{content:o.a.createElement(y,null)}),o.a.createElement(b.b,null),(e.data,o.a.createElement(b.c,{type:"monotone",dataKey:"close",stroke:"#8884d8",dot:!1}))))},j=function(e){return o.a.createElement("div",null,o.a.createElement("p",null,"Stock: ",e.data.stockName))},O=a(411),_=a(176),C=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log("StockView Render"),o.a.createElement(O.a,null,o.a.createElement(_.a,{sm:8},o.a.createElement("div",{style:{height:"800px",width:"100%"}},o.a.createElement(w,{data:this.props.data}))),o.a.createElement(_.a,{sm:4},o.a.createElement("div",{style:{position:"absolute",top:"19px",width:"80%"}},o.a.createElement(j,{data:this.props.name}))))}}]),t}(o.a.Component),D=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null)}}]),t}(o.a.Component),S=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null)}}]),t}(o.a.Component);function x(e,t,a){return"https://finnhub.io/api/v1/stock/candle?symbol="+e+"&resolution="+a+"&count="+t+"&token=boamq6vrh5rbii6a3j30"}function T(e){var t=new Date(1e3*e),a=t.getFullYear()%100;return t.getMonth()+1+"/"+t.getDate()+"/"+a}function W(e){for(var t=[],a=0;a<e.c.length;a++)t.push({close:e.c[a],high:e.h[a],low:e.l[a],open:e.o[a],time:T(e.t[a]),volume:e.v[a]});return t}var L=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){console.log("App.handleChange: ",e.target.value),a.search_field=e.target.value},a.handleSubmit=function(e){a.search_field!==a.state.stock_name&&a.getStockCandle(a.search_field,200,"D")},a.state={search_field:"",stock_name:"TWTR",data:[],isDataLoaded:!1,resolution:""};return a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"storeCandleData",value:function(e,t,a){"ok"===e.s?this.setState({data:W(e),stock_name:t,resolution:a,isDataLoaded:!0}):console.log("invalid user input")}},{key:"getStockCandle",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"TWTR",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"D",o=x(t,a,n);console.log("fetching: ",o),fetch(o,{method:"GET"}).then((function(e){return e.json()})).then((function(a){return e.storeCandleData(a,t,n)})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.getStockCandle(this.state.stock_name,200,"D")}},{key:"render",value:function(){var e=this;return o.a.createElement(h.a,null,o.a.createElement(p.a,{fluid:"true"},o.a.createElement(v.a,{bg:"light",expand:"lg",sticky:"top"},o.a.createElement(v.a.Brand,{href:"/stock_view"},"stock_view"),o.a.createElement(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.a.createElement(v.a.Collapse,{id:"basic-navbar-nav"},o.a.createElement(E.a,{className:"mr-auto"},o.a.createElement(E.a.Link,{href:"/stock_view"},"Home"),o.a.createElement(E.a.Link,{href:"/watchlist"},"Watchlist"),o.a.createElement(E.a.Link,{href:"/markets"},"Markets")),o.a.createElement(f.a,{inline:!0,onSubmit:this.handleSubmit},o.a.createElement(k.a,{type:"text",placeholder:"TWTR",className:"mr-sm-2",onChange:this.handleChange}),o.a.createElement(g.a,{variant:"outline-success",onClick:this.handleSubmit},"Search")))),o.a.createElement("br",null),o.a.createElement(d.a,{exact:!0,path:"/stock_view",render:function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(C,{name:e.state.stock_name,data:e.state.data}))}}),o.a.createElement(d.a,{exact:!0,path:"/stock_view/watchlist",component:D}),o.a.createElement(d.a,{exact:!0,path:"/stock_view/markets",component:S})))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[214,1,2]]]);
//# sourceMappingURL=main.89091e59.chunk.js.map